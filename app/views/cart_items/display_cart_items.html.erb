<% @ribbon_text = "Taking your order" %>
<%= render "shared/ribbon" %>

<div class="bg-white" style="padding: 0 15px;">
  <% if @processed_items && @processed_items.any? %>
      <% @processed_items.each do |item| %>
        <div class="item-card space-between">
          <a href="<%= item_path(id: item['id']) %>" class="space-between no-decoration">
            <img src="<%= item['image_url'] %>" alt="<%= item['name'] %> image" width="90">
            <div class="item-card-text">
            <h5><%= item['name'].capitalize %></h5>
            <p>From <%= item['store'] %></p>
            <p> â‚¬<%= item['price'] %></p>
            </div>
          </a>
          <div class="space-between button-quantity" data-controller="minus-plus">
            <div data-action="click->minus-plus#decrement" data-item-id="<%= item['id'] %>">-</div>
            <div id="quantity_<%= item['id'] %>" data-minus-plus-target="quantity"><%= item['quantity'] %></div>
            <div data-action="click->minus-plus#increment" data-item-id="<%= item['id'] %>">+</div>
          </div>
        </div>
      <% end %>
  <% elsif @not_found_message %>
    <div>
      <h1>Items Not Found</h1>
      <p><%= @not_found_message %></p>
    </div>
  <% else %>
    <div>
      <h1>No Items in Cart</h1>
      <p>Please add items to your cart.</p>
    </div>
  <% end %>
  <div class="space-between">
    <%= link_to '+ ADD ITEMS', new_cart_item_path, class: 'button violet' %>
    <button class="button violet">CHECKOUT</button>
  </div>
</div>
