<%= javascript_include_tag 'controllers/items' %>

<div class="button-container">
  <button class="violet-button">+ ADD ITEMS</button>
  <button class="violet-button">CHECKOUT</button>
</div><br>

<% if @processed_items && @processed_items.any? %>
  <div class="container">
    <h1>Your Cart</h1>
    <% @processed_items.each do |item| %>
      <div class="item-card">
        <img class='align-self-center mr-3' src="<%= item['image_url'] %>" alt="<%= item['name'] %> image" width="100">
        <div class="item-card-text">
          <h5 class="mt-0"><%= item['name'] %></h5>
          <p>From <%= item['store'] %></p>
          <p>â‚¬<%= item['price'] %></p>
        </div>
        <div class="quantity-button">
          <button class="minus-plus" data-item-id="<%= item['id'] %>" data-action="decrement">-</button>
          <span id="quantity_<%= item['id'] %>"><%= item['quantity'] %></span>
          <button class="minus-plus" data-item-id="<%= item['id'] %>" data-action="increment">+</button>
        </div>
      </div>
    <% end %>
  </div>
<% elsif @not_found_message %>
  <div class="container">
    <h1>Items Not Found</h1>
    <p><%= @not_found_message %></p>
  </div>
<% else %>
  <div class="container">
    <h1>No Items in Cart</h1>
    <p>Please add items to your cart.</p>
  </div>
<% end %>
